name: 测试部署

on:
  push:
    branches: [ main ]
  workflow_dispatch: # 允许手动触发

jobs:
  test:
    runs-on: ubuntu-latest
    
    steps:
    - name: 检出代码
      uses: actions/checkout@v4
      
    - name: 显示文件列表
      run: |
        echo "📁 当前目录: $(pwd)"
        echo "📄 文件列表:"
        ls -la
        
    - name: 检查文章文件
      run: |
        if [ -f "data/articles.json" ]; then
          echo "✅ 找到文章文件"
          cat data/articles.json | head -5
        else
          echo "❌ 文章文件不存在"
        fi
        
    - name: 测试完成
      run: |
        echo "✅ 测试完成！"
        echo "📅 时间: $(date)"
