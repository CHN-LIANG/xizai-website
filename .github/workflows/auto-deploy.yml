name: æ–‡ç« æ›´æ–°æé†’

on:
  push:
    branches: [ main ]
    paths:
      - 'data/articles.json'
  workflow_dispatch: # å…è®¸æ‰‹åŠ¨è§¦å‘

jobs:
  notify:
    runs-on: ubuntu-latest
    
    steps:
    - name: æ£€å‡ºä»£ç 
      uses: actions/checkout@v4
      
    - name: æ£€æŸ¥æ–‡ç« æ–‡ä»¶
      run: |
        if [ -f "data/articles.json" ]; then
          echo "âœ… æ‰¾åˆ°æ–‡ç« æ–‡ä»¶"
          echo "ğŸ“„ æ–‡ç« æ•°é‡: $(jq '.articles | length' data/articles.json)"
          echo "ğŸ“ æœ€æ–°æ–‡ç« : $(jq -r '.articles[0].title' data/articles.json)"
        else
          echo "âŒ æ–‡ç« æ–‡ä»¶ä¸å­˜åœ¨"
          exit 1
        fi
        
    - name: ç”Ÿæˆéƒ¨ç½²æé†’
      run: |
        echo "ğŸ“¢ æ–‡ç« å·²æ›´æ–°ï¼Œéœ€è¦æ‰‹åŠ¨éƒ¨ç½²ï¼"
        echo "ğŸ“‹ éƒ¨ç½²æ­¥éª¤ï¼š"
        echo "1. è¿›å…¥GitHubä»“åº“Settings â†’ Pages"
        echo "2. ç¡®ä¿Sourceé€‰æ‹©'Deploy from a branch'"
        echo "3. é€‰æ‹©mainåˆ†æ”¯ï¼Œç‚¹å‡»Save"
        echo "4. ç­‰å¾…å‡ åˆ†é’Ÿï¼Œç½‘ç«™å°†è‡ªåŠ¨æ›´æ–°"
        echo ""
        echo "ğŸŒ æˆ–è€…ä½¿ç”¨Vercelè‡ªåŠ¨éƒ¨ç½²ï¼ˆæ¨èï¼‰"
        
    - name: éƒ¨ç½²æé†’å®Œæˆ
      run: |
        echo "âœ… éƒ¨ç½²æé†’å·²ç”Ÿæˆï¼"
        echo "ğŸ“… æ—¶é—´: $(date)"
        echo "ğŸ’¡ å»ºè®®ï¼šè€ƒè™‘ä½¿ç”¨Vercelç­‰ç¬¬ä¸‰æ–¹æœåŠ¡å®ç°çœŸæ­£çš„è‡ªåŠ¨éƒ¨ç½²"
